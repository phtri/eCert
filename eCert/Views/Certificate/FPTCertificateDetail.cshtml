

@model eCert.Models.ViewModel.CertificateViewModel
@using eCert.Utilities

@{
    string imgLink = string.Empty;
    if (Model.CertificateContents.Count > 0)
    {
        imgLink = Model.CertificateContents.
        Where(x => x.CertificateFormat == Constants.CertificateFormat.PNG).FirstOrDefault().Content;
    }

}

<script src="/assets/js/vendor/jquery-3.5.1.min.js"></script>
<!-- custom js -->
<script src="~/assets/js/custom/home.js"></script>
<script src="~/assets/js/custom/certDetail.js"></script>
<!-- custom js end -->
<!-- third party css -->
<link href="/assets/css/vendor/dataTables.bootstrap4.css"
      rel="stylesheet"
      type="text/css" />
<link href="/assets/css/vendor/responsive.bootstrap4.css"
      rel="stylesheet"
      type="text/css" />
<!-- third party css end -->
<!-- App css -->
<link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/app.min.css"
      rel="stylesheet"
      type="text/css"
      id="light-style" />
<link href="/assets/css/app-dark.min.css"
      rel="stylesheet"
      type="text/css"
      id="dark-style" />
<!--custom css-->
<link rel="stylesheet"
      type="text/css"
      href="/assets/css/custom/detailCertificate.css" />

<!--Modal share-->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <h4 class="modal-title text-center mt-2 mb-2">Share this certificate</h4>
                <p class="text-center">Copy the link below and share with your friends your certificate</p>
                <div class="input-group p-1 align-items-center" style="background-color: #DEE2E661">
                    <div id="link-cert" class="col-10">https://localhost:44391/Home/Share?url=@Model.Url</div>
                    <button class="btn col-2" style="color:#727CF5" onclick="copyToClipboard('#link-cert')">Copy</button>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="">
    <!--Title-->

    <div class="row">
        <!--Certificate Image-->
        <div class="col-12 d-flex justify-content-end">
            <div class="align-middle">
                <div class="share-container">
                    <button type="button" data-toggle="modal" data-target="#myModal" class="btn btn-share text-white share-btn">
                        Share
                    </button>
                    <div contenteditable="true" class="share-url"></div>
                </div>

            </div>
            <div class="align-middle">
                <a class="btn btn-download ml-2" href="/Certificate/DownloadFptCertificate?url=@Model.Url&type=@Constants.CertificateFormat.PDF">
                    Download (Pdf)
                </a>
            </div>
            <div class="align-middle">
                <a class="btn btn-download ml-2" href="/Certificate/DownloadFptCertificate?url=@Model.Url&type=@Constants.CertificateFormat.PNG">
                    Download (Image)
                </a>
            </div>
            <div class="align-middle">
                <a href="/Certificate/AddReport?certId=@Model.CertificateId" class="btn btn-danger ml-2" onclick="">
                    Report
                </a>
            </div>

        </div>
        <div class="row col-12 mt-3 pr-0">
            <div class="col-12 col-lg-5 mt-2 pr-0">
                <!--User Info-->
                <div class="row col-12 no-gutters align-items-center p-2" style="background-color: #D5EAF2">
                    @*<div class="col-sm-2">
                            <img src="~/assets/images/custom/cert-course@2x.png" class="card-img" style="width: 73px; height: 73px; border-radius: 50%">
                        </div>*@
                    <div class="col-12">
                        <div class="card-body">
                            <p class="card-title font-20">Certificate name: <span class="text-uppercase font-weight-bold">@Model.CertificateName</span></p>
                            <p class="card-title font-16">Completed by <span class="text-uppercase font-weight-bold">@Model.FullName</span></p>
                        </div>
                    </div>
                </div>

                <!--Provided By-->
                <!--<div class="no-gutters align-items-center mt-5 p-2 col-12" style="background-color: #D5EAF2">

                </div>-->
            </div>
            <div class="col-12 col-lg-7 mt-2 pr-0">
                <img src="~/UploadedFiles/Certificates/@imgLink" class="cert_image" />
            </div>
        </div>



    </div>
</div>

