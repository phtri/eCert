@model eCert.Models.ViewModel.CertificateViewModel
@using eCert.Models.ViewModel
@using eCert.Utilities

<script src="/assets/js/vendor/jquery-3.5.1.min.js"></script>
<!-- custom js -->
<script src="~/assets/js/custom/home.js"></script>
<!-- custom js end -->
<!-- third party css -->
<link href="/assets/css/vendor/dataTables.bootstrap4.css"
      rel="stylesheet"
      type="text/css" />
<link href="/assets/css/vendor/responsive.bootstrap4.css"
      rel="stylesheet"
      type="text/css" />
<!-- third party css end -->
<!-- App css -->
<link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
<link href="/assets/css/app.min.css"
      rel="stylesheet"
      type="text/css"
      id="light-style" />
<link href="/assets/css/app-dark.min.css"
      rel="stylesheet"
      type="text/css"
      id="dark-style" />
<!--Custom css-->
<link href="~/assets/CSS/custom/listCertificate.css"
      rel="stylesheet"
      type="text/css" />
<!-- Home screen -->

<div class="row">
    <div class="col-12">
        <div class="">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div class="d-flex">
                        <!--Button Add-->
                        <div class="add-cert mr-2">
                            <button type="button" class="btn btn-primary add-cert" onclick="showFormModal('Add a certificate', 'Add')">
                                Add a certificate
                            </button>
                        </div>
                        <!--Button Show-->
                        <div class="show-cert mr-2">
                            <button type="button" class="btn btn-primary" onclick="getListOfCert()">
                                Show certificates
                            </button>
                        </div>
                        <!--Export-->
                        <div class="export-all">
                            <button type="button" class="btn btn-danger mb-2">
                                Export certificates
                            </button>
                        </div>
                    </div>


                    <!--Search-->
                    <div class="app-search col-3 col-md-4 col-xl-3 d-none d-lg-block pr-0">
                        <div class="input-group">   
                            <input type="text"
                                   class="form-control dropdown-toggle"
                                   placeholder="Search..."
                                   id="top-search" />
                            <span class="mdi mdi-magnify search-icon"></span>
                            <div class="input-group-append">
                                <button class="btn btn-primary" id="search-btn" type="button" onclick="getListOfCert()">
                                    Search
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- end col-->
                </div>
                <!--Search-->
                <div class="app-search col-12 col-sm-9 col-md-6 d-block d-lg-none px-0 mb-2">
                    <div class="input-group">
                        <input type="text"
                               class="form-control dropdown-toggle"
                               placeholder="Search..."
                               id="top-search" />
                        <span class="mdi mdi-magnify search-icon"></span>
                        <div class="input-group-append">
                            <button class="btn btn-primary" id="search-btn" type="button" onclick="getListOfCert()">
                                Search
                            </button>
                        </div>
                    </div>
                </div>
                <!-- end col-->
                <div class="listCertificate">
                </div>


                <div id="myModal"></div>
            </div>
            <!-- end card-body-->
        </div>
        <!-- end card-->
    </div>
    <!-- end col -->
</div>



<!-- Display message to user -->
@if (TempData["Msg"] != null)
{
    <script type="text/javascript">
          $(document).ready(function() {
              var data = '@TempData["Msg"]';
              $.NotificationApp.send("Message", data, "top-center", "Background color", "Icon");
          });

           $('a.edit').on('click', function () {
            $.ajax({
                url: this.href,
                type: 'GET',
                cache: false,
                success: function (result) {
                    $('#myModal').html(result).find('#compose-modal').modal({
                        show: true
                    });
                }
            });
            return false;
        });
    </script>
}
@Html.Partial("_AddCertificateForm")



